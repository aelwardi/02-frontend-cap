<h1>Pharma - All projects</h1>
<div *ngIf="isLoading" class="spinners-overlay">
  <div class="spinners-container">
    <div class="spinners"></div>
  </div>
</div>

<div class="card">
  <div class="card-body">
    <div class="d-flex justify-content-end">
      <button mat-button class="btn-add" (click)="openAddProjectModal()">
        <mat-icon>add</mat-icon> Add a new project
      </button>
    </div>
    <hr>
    <mat-card *ngFor="let projet of projects" class="mb-3 card-with-shadow">
      <div class="row no-gutters">
        <div class="col-md-2">
          <img [src]="projet?.photo ? 'data:image/jpeg;base64,' + projet.photo : '/assets/images/covers/img-03.png'"
            class="card-img image-container" alt="Photo entreprise" />
        </div>
        <div class="col-md-8" (click)="redirectToProject(projet.id)">
          <div class="card-body">
            <h1 class="card-title">{{ projet.name }}</h1>
            <p class="card-text">{{ projet.nameClient }}</p>
            <div *ngIf="projet.description">
              <p [matTooltip]="projet.description">
                {{projet.description | slice: 0: 200}}...
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-2 d-flex align-items-center justify-content-center">
          <button mat-icon-button color="primary" class="large-icon-button-act" (click)="openEditProjectModal(projet)">
            <mat-icon class="large-icon icon-blue">edit_square</mat-icon>
          </button>
          <button mat-icon-button color="warn" class="large-icon-button-act"
            (click)="openConfirmationDialog(projet.id)">
            <mat-icon class="large-icon">delete</mat-icon>
          </button>
        </div>
      </div>
    </mat-card>
    <mat-paginator [pageSizeOptions]="[3, 5]" showFirstLastButtons aria-label="Select page of periodic elements">
    </mat-paginator>
  </div>
</div>